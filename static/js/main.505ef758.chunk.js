(this.webpackJsonpmyweb=this.webpackJsonpmyweb||[]).push([[0],{30:function(e,t,a){e.exports=a(64)},35:function(e,t,a){},36:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(25),l=a.n(r),o=(a(35),a(6));a(36);function u(e){window.AudioContext=window.AudioContext||window.webkitAudioContext;var t=new AudioContext;return function(){var a=t.createOscillator(),n=t.createGain();a.connect(n),n.connect(t.destination),a.type="sine",a.frequency.value=e,n.gain.setValueAtTime(0,t.currentTime),n.gain.linearRampToValueAtTime(1,t.currentTime+.01),a.start(t.currentTime),n.gain.exponentialRampToValueAtTime(.001,t.currentTime+3),a.stop(t.currentTime+3)}}var i=function(){var e=[523,587,659,698,784,880,987];return c.a.createElement(c.a.Fragment,null,c.a.createElement("header",{className:"myHeader"},c.a.createElement("div",{className:"back"},c.a.createElement("img",{src:"./u2.svg",alt:"",width:"100%"})),c.a.createElement("div",{className:"logo"},c.a.createElement("img",{src:"./LOGO.png",alt:"log",width:"100%"})),c.a.createElement("div",{className:"nav"},c.a.createElement("img",{src:"./u0.svg",alt:"",width:"100%"}),c.a.createElement("ul",null,c.a.createElement(o.b,{to:"/"},c.a.createElement("li",{id:"nav-li1",onClick:u(e[0])},"\u9996\u9875")),c.a.createElement(o.b,{to:"/two"}," ",c.a.createElement("li",{id:"nav-li2",onClick:u(e[1])},"\u9875\u97621")),c.a.createElement(o.b,{to:"/"}," ",c.a.createElement("li",{id:"nav-li3",onClick:u(e[2])},"\u9875\u97622")),c.a.createElement(o.b,{to:"/"},c.a.createElement("li",{id:"nav-li4",onClick:u(e[3])},"\u9875\u97623")),c.a.createElement(o.b,{to:"/"},c.a.createElement("li",{id:"nav-li5",onClick:u(e[4])},"\u9875\u97624")),c.a.createElement(o.b,{to:"/"},c.a.createElement("li",{id:"nav-li6",onClick:u(e[5])},"\u9875\u9762")),c.a.createElement(o.b,{to:"/"},c.a.createElement("li",{id:"nav-li7",onClick:u(e[6])},"\u9875\u97626"))))))},m=a(8),s=a(1);a(42);var d=function(e){var t="http://127.0.0.1",a=Object(n.useState)(1),r=Object(s.a)(a,2),l=r[0],o=r[1],u=Object(n.useState)(e.Img),i=Object(s.a)(u,2),m=i[0],d=(i[1],Object(n.useState)(t+e.Img[0].url)),f=Object(s.a)(d,2),E=f[0],b=f[1],p=Object(n.useState)("bd4"),v=Object(s.a)(p,2),h=v[0],g=v[1],N=Object(n.useState)(1),O=Object(s.a)(N,2),j=O[0],k=O[1];return Object(n.useEffect)((function(){switch(j&&setTimeout((function(){o(4!=l?l+1:0)}),3e3),l){case 1:g("bd1"),b(t+m[0].url);break;case 2:g("bd2"),b(t+m[1].url);break;case 3:g("bd3"),b(t+m[2].url);break;case 4:g("bd4"),b(t+m[3].url)}})),c.a.createElement("div",{className:"banner"},c.a.createElement("div",{className:"bannerImg ".concat(h)},c.a.createElement("img",{src:E,alt:""})),c.a.createElement("div",{className:"bannerCon"},c.a.createElement("ul",null,c.a.createElement("li",{className:"bc1 ",onClick:function(){o(1),k(0)}},m[0].title),c.a.createElement("li",{className:"bc2 ",onClick:function(){o(2),k(0)}},m[1].title),c.a.createElement("li",{className:"bc3 ",onClick:function(){o(3),k(0)}},m[2].title),c.a.createElement("li",{className:"bc4 ",onClick:function(){o(4),k(0)}},m[3].title))))};a(43);var f=function(e){var t=Object(n.useState)(0),a=Object(s.a)(t,2),r=a[0],l=a[1],o=Object(n.useRef)(),u=Object(n.useRef)(),i=Object(n.useState)(e.photoList),m=Object(s.a)(i,2),d=m[0];return m[1],c.a.createElement("div",{className:"show"},c.a.createElement("div",{className:"upload pbox"},c.a.createElement("div",{className:"upImg",onClick:function(){o.current.click()}},c.a.createElement("img",{src:"",alt:"",ref:u})),c.a.createElement("input",{type:"file",name:"file",ref:o,accept:".jpg,.jpeg,.png",hidden:!0,onChange:function(){var e=new FileReader;o.current.files[0]&&(e.readAsDataURL(o.current.files[0]),e.onload=function(){u.current.src=e.result,l(1)})}}),c.a.createElement("input",{type:r?"button":"hidden",value:"\u4e0a\u4f20",onClick:function(){l(0);var t=new FormData;t.append("file",o.current.files[0]),fetch("http://127.0.0.1/photo/upload",{method:"POST",body:t}).then((function(e){return e.text()})).then((function(t){return e.getChange(!e.change)})),u.current.src="",l(0)}})),d.map((function(e){return c.a.createElement("div",{className:"photo pbox",key:e._id},c.a.createElement("div",{className:"photoBox"},c.a.createElement("a",{href:"http://127.0.0.1/"+e.url,target:"_blank"},c.a.createElement("img",{src:"http://127.0.0.1/"+e.url,alt:""}))),c.a.createElement("div",{className:"photoName"},e.title))})))};a(44);var E=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"loading"},c.a.createElement("div",{className:"piece1"}),c.a.createElement("div",{className:"piece2"}),c.a.createElement("div",{className:"piece3"}),c.a.createElement("div",{className:"piece4"}),c.a.createElement("div",{className:"piece5"})))};a(45);function b(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(1),o=Object(s.a)(l,2),u=o[0],i=o[1],m=Object(n.useState)(1),b=Object(s.a)(m,2),p=b[0],v=b[1];return Object(n.useEffect)((function(){i(1),fetch("http://127.0.0.1/photo",{method:"get"}).then((function(e){return e.text()})).then((function(e){var t=JSON.parse(e).records;r(t),i(0)}))}),[p]),c.a.createElement(c.a.Fragment,null,u?c.a.createElement(E,null):c.a.createElement(d,{Img:a.slice(0,4)}),!u&&c.a.createElement(f,{photoList:a,getChange:function(e){console.log(p),v(e)},change:p}))}var p=a(28),v=a(29),h=a(11),g=a.n(h),N="https://5e2d1ba91b72860014dd56bd.mockapi.io";function O(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),r=a[0],l=a[1],o=Object(n.useRef)(),u=Object(n.useRef)(),i=Object(n.useRef)();function m(){l(!r)}function d(t){t.preventDefault();var a,n,c={date:o.current.value,title:u.current.value,amount:Number.parseInt(i.current.value,0)};(a=e.record.id,n=c,g.a.put("".concat(N,"/api/v1/records/").concat(a),n)).then((function(t){e.handleEditRecord(e.record,t.data),l(!1)})).catch((function(e){return console.log(e.message)}))}function f(t){var a;t.preventDefault(),(a=e.record.id,g.a.delete("".concat(N,"/api/v1/records/").concat(a))).then((function(t){return e.handleDeleteRecord(e.record)})).catch((function(e){return console.log(e.message)}))}return r?c.a.createElement("tr",null,c.a.createElement("td",null,c.a.createElement("input",{type:"text",className:"form-control",defaultValue:e.record.date,ref:o})),c.a.createElement("td",null,c.a.createElement("input",{type:"text",className:"form-control",defaultValue:e.record.title,ref:u})),c.a.createElement("td",null,c.a.createElement("input",{type:"text",className:"form-control",defaultValue:e.record.amount,ref:i})),c.a.createElement("td",null," ",c.a.createElement("button",{className:"btn btn-info mr-1",onClick:d},"Update"),c.a.createElement("button",{className:"btn btn-danger",onClick:m},"Cancel"))):c.a.createElement("tr",null,c.a.createElement("td",null,e.record.date," "),c.a.createElement("td",null,e.record.title," "),c.a.createElement("td",null,e.record.amount," "),c.a.createElement("td",null," ",c.a.createElement("button",{className:"btn btn-info mr-1",onClick:m},"Edit"),c.a.createElement("button",{className:"btn btn-danger",onClick:f},"Delete")))}function j(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),r=a[0],l=a[1],o=Object(n.useState)(""),u=Object(s.a)(o,2),i=u[0],m=u[1],d=Object(n.useState)(""),f=Object(s.a)(d,2),E=f[0],b=f[1];return c.a.createElement("form",{className:"form-inline mb-3",onSubmit:function(t){var a,n={date:r,title:i,amount:Number.parseInt(E,0)};t.preventDefault(),(a=n,g.a.post("".concat(N,"/api/v1/records"),a)).then((function(t){e.handleNewRecord(t.data),l(""),m(""),b("")})).catch((function(e){return console.log(e.message)}))}},c.a.createElement("div",{className:"form-group mr-1"},c.a.createElement("input",{type:"text",className:"form-control",onChange:function(e){return l(e.target.value)},placeholder:"Date",name:"date",value:r})),c.a.createElement("div",{className:"form-group mr-1"},c.a.createElement("input",{type:"text",className:"form-control",onChange:function(e){return m(e.target.value)},placeholder:"Title",name:"title",value:i})),c.a.createElement("div",{className:"form-group mr-1"},c.a.createElement("input",{type:"text",className:"form-control",onChange:function(e){return b(e.target.value)},placeholder:"Amount",name:"amount",value:E})),c.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:!(r&&i&&E)},"Creat Record"))}function k(e){var t=e.text,a=e.type,n=e.amount;return c.a.createElement("div",{className:"col"},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-header bg-".concat(a," text-white")},t),n))}var w=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(null),o=Object(s.a)(l,2),u=o[0],i=o[1],m=Object(n.useState)(!1),d=Object(s.a)(m,2),f=d[0],E=d[1];Object(n.useEffect)((function(){g.a.get("".concat(N,"/api/v1/records")).then((function(e){r(e.data),E(!0)})).catch((function(e){E(!0),i(e.message)}))}),[]);var b=null;if(u)b=c.a.createElement("div",null,u);else if(f){if(f){var h=function(e,t){var n=a.indexOf(e),c=a.map((function(e,a){return a!==n?e:Object(v.a)({},e,{},t)}));r(c)},w=function(e){var t=a.indexOf(e),n=a.filter((function(e,a){return a!==t}));r(n)};b=c.a.createElement("div",null,c.a.createElement("table",{className:"table table-bordered"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Date"),c.a.createElement("th",null,"title"),c.a.createElement("th",null,"Amount"))),c.a.createElement("tbody",null,a.map((function(e,t){return c.a.createElement(O,{key:e.id,record:e,handleEditRecord:h,handleDeleteRecord:w})})))))}}else b=c.a.createElement("div",null,"Loading");function C(){return a.filter((function(e){return e.amount>=0})).reduce((function(e,t){return e+Number.parseInt(t.amount,0)}),0)}function x(){return a.filter((function(e){return e.amount<0})).reduce((function(e,t){return e+Number.parseInt(t.amount,0)}),0)}return c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",null," \xa0 "),c.a.createElement("div",{className:"row mb-3"},c.a.createElement(k,{text:"\u6536\u5165",type:"success",amount:C()}),c.a.createElement(k,{text:"\u652f\u51fa",type:"danger",amount:x()}),c.a.createElement(k,{text:"\u4f59\u989d",type:"info",amount:C()+x()})),c.a.createElement(j,{handleNewRecord:function(e){r([].concat(Object(p.a)(a),[e])),i(null),E(!0)}}),b)};var C=function(){return c.a.createElement(c.a.Fragment,null,"404")};function x(){return c.a.createElement("div",null,c.a.createElement(m.c,null,c.a.createElement(m.a,{path:"/",exact:!0,component:b}),c.a.createElement(m.a,{path:"/two",component:w}),c.a.createElement(m.a,{component:C})))}a(63);var y=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(i,null),c.a.createElement(x,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(o.a,null,c.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[30,1,2]]]);
//# sourceMappingURL=main.505ef758.chunk.js.map